# 第一章

## Linux 的目录结构

### 知识点
1. Linux 只有一个顶级目录，称为**根目录**，即“/”。
2. Linux 中表示目录时用“/”表示层次关系，但出现在**开头的“/”表示为根目录**。

### 示例
- 在根目录下有一个文件夹 `test`，文件夹内有一个文件 `hello.txt`，则文件的路径为：
```
/test/hello.txt
```
- 在根目录下有一个文件 `hello.txt`，则路径为：
```
/hello.txt
```

## Linux 命令基础

### 1. 命令、命令行
- **命令**：即 Linux 操作指令，是系统内置的程序，可以以字符化的形式去使用。
- **命令行**：即 Linux 的终端，提供字符化的操作页面。

### 2. Linux 的命令通用格式
```
command [-options] [parameter]
```
- 命令本身
- 可选选项，控制一些细节
- 可选参数，控制命令指向的目标

### 3. `ls` 命令
```
ls [-a -l -h] [Linux路径]
```

#### 作用
在命令行中，以平铺的形式展现当前目录下的内容（文件和文件夹），默认是 `HOME` 目录。

#### HOME 目录
每一个用户在 Linux 系统中的专属目录，默认是 `/home/用户名`。

#### 当前的工作目录
Linux 命令行在执行命令的时候，需要一个工作目录，打开命令行程序，默认设置工作目录在用户的 `HOME` 目录。

#### `ls` 命令的参数作用
指定查看文件夹下的内容，默认是当前工作目录。

#### `ls` 命令的选项
- **-a**：展示所有的内容，包括以 `.` 开头的隐藏文件和文件夹。
- **-l**：以列表的形式展示内容。
- **-h**：选项，搭配 **-l** 使用，更加清晰的展示文件的大小。

#### 命令组合使用
命令是可以组合使用的，如 `ls -lah` 等同于 `ls -l -a -h`。

#### 示例
- 列出根目录下的所有内容
```
ls -a /
```
- 列出 `HOME` 目录下的所有内容和大小
```
ls -al /home/user 
```

### 4. `cd` 和 `pwd` 命令

#### `cd` 命令
```
cd [Linux路径]
```
- **作用**：更改当前目录。
- **默认情况**：不写路径时，默认回到 `HOME` 目录。

#### `pwd` 命令
```
pwd
```
- **作用**：查看当前的目录。

#### 示例
- 切换到 `/bin` 目录：
```
cd /bin
```
- 展示当前目录：
```
pwd
```

### 5. 相对路径、绝对路径和特殊路径符

#### 相对路径和绝对路径
- **绝对路径**：以根目录为起点，例如在 `HOME` 目录下的 `Desktop` 为 `/home/user/Desktop`。
- **相对路径**：以当前目录为起点，例如在 `HOME` 目录下的 `Desktop` 为 `Desktop`。

#### 特殊路径符
- `.`：表示当前的目录。
- `..`：表示上一级目录。
- `~`：表示 `HOME` 目录。

### 6. `mkdir` 命令
```
mkdir [-p] Linux路径
```
- **作用**：创建新的目录(文件夹)。
- **参数**：参数必填，即要创建的文件夹的路径，相对路径、绝对路径都可以。
- **选项**：`-p`，表示自动创建父目录，例如创建 `~/workspace/try` 时，没有 `workspace` 这个文件夹，当加上 `-p` 之后，系统会自己创建。

### 7. `touch`、`cat` 和 `more` 命令

#### `touch` 命令
```
touch Linux路径
```
- **作用**：用于创建一个新的文件的路径。
- **参数**：参数必填，即要创建的文件的路径，相对路径、绝对路径都可以。

#### `cat` 命令
```
cat Linux路径
```
- **作用**：用于查看文件内容。
- **参数**：参数必填，即要查看的文件的路径，相对路径、绝对路径都可以。

#### `more` 命令
```
more Linux路径
```
- **作用**：用于查看文件内容，与 `cat` 不同的是可以翻页查看。
- **参数**：参数必填，即要查看的文件的路径，相对路径、绝对路径都可以。
- **操作方式**：使用空格、上下键翻页，使用 `q` 退出查看。

#### 示例
- 在 `HOME` 路径下创建 `try.txt`：
```
touch ~/try.txt  # 这里创建完之后可以在图形化界面里面添加内容，为了之后的演示
```
- 使用 `cat` 指令查看这个 `try.txt`：
```
cat ~/try.txt
```
- 使用 `more` 指令查看 `try.txt`：
```
more ~/try.txt
```

### 8. `cp`、`mv` 和 `rm` 命令

#### `cp` 命令
```
cp [-r] 被复制的文件路径 要复制到的文件路径
```
- **作用**：用于复制文件或文件夹。
- **选项**：`-r`，复制文件夹的时候需要加上。
- **参数**：Linux 路径，可以使用绝对或者相对路径。

#### `mv` 命令
```
mv 被复制的文件路径 要复制到的文件路径
```
- **作用**：用于移动文件或文件夹。
- **参数**：Linux 路径，若目标文件不存在，则移动过去之后改名，相当于重命名。

#### `rm` 命令
```
rm [-r -f] 要删除的文件的路径
```
- **作用**：用于删除文件或文件夹。
- **选项**：`-r`，在删除文件夹的时候使用；`-f`，用于强制删除。
- **参数**：要删除的文件的路径，可以多个，也可以使用通配符进行匹配删除。
- **通配符**：`*`，用于匹配，例如 `*try` 即以 `try` 结尾的文件，`try*` 即以 `try` 开头的文件，`*try*` 即包含 `try` 的文件。

#### 示例
- 将 `try.txt` 复制到 `~/Desktop` 里
```
cp try.txt ~/Desktop
```
- 将 `try.txt` 移动到 `~/Desktop` 里
```
mv try.txt ~/Desktop
```
- 将 `try.txt` 重命名
```
mv try.txt try1.txt
```
- 删除 `try.txt`
```
rm try.txt
```

### 9. `which`、`find` 指令

#### `which` 命令
```
which 要查找的命令
```
- **作用**：查找命令的程序文件。

#### `find` 命令
- **作用**：用于查找符合要求的文件。
- **按文件名查找**：```find 起始路径 -name “被查找的文件名”```，支持通配符。
- **按文件大小查找**：```find 起始路径 -size +或-n[单位]```，单位为 `k`、`M`、`G`。

#### 示例
- 查找 `mkdir` 命令对应的可执行文件的路径
```
which mkdir
```
- 查找文件名包含 `test` 的文件，从根目录开始寻找
```
find / -name *test*
```
- 查找大小在 500MB 到 1GB 之间的文件
```
find / -size +500M -size -1G
```

### 10. `grep`、`wc` 和管道符 `|`

#### `grep` 命令
```
grep [-n] 关键字 文件路径
```
- **作用**：从文件中筛选出包含关键字的内容。
- **选项**：`-n` 表示在结果中显示匹配的行的行号。
- **参数**：必填，关键字建议用 `""` 包含。

#### `wc` 命令
```
wc [-c -m -l -w] 文件路径
```
- **作用**：统计文件的行数、字符数、字节数、单词数等。
- **选项**：`-c` 字节数，`-m` 字符数，`-l` 行数，`-w` 单词数。

#### 管道符 `|`
- **作用**：将左边命令的输出作为右边命令的输入。

#### 示例
- 从 `try.txt` 文件中筛选包含 `Linux` 单词的行，并显示行数
```
grep -n "Linux" try.txt
```
- 统计 `try.txt` 文件的行数，字符数，字节数，单词数
```
wc -cmlw try.txt
```
- 统计包含 `Linux` 单词的行数
```
grep -n "Linux" try.txt | wc -l
```

### 11. `echo`、`tail` 和重定向符

#### `echo` 命令
```
echo 输出的内容
```
- **作用**：用于在终端输出指定的内容。
- **参数**：输出的内容，建议用 `""` 包含。
- **注意**：当输出的内容是 Linux 系统中的某一个命令时，用 `` ` `` 反引号包含，这样就不会调用这个命令，而是直接输出命令的名字。

#### `tail` 命令
```
tail [-f] [-num] Linux路径
```
- **作用**：查看文件尾部的内容，可以持续跟踪。
- **选项**：`-f`，用于持续跟踪；`-num` 用于指定显示的行数。
- **参数**：表示被查看到的文件。

#### 重定向符
- `>`：将左侧命令的输出，覆盖写入到右侧指定的文件中。
- `>>`：将左侧命令的输出，追加写入到右侧指定的文件中。

#### 示例
- 在终端输出 "hello Linux"
```
echo "hello Linux"
```
- 创建一个 `try.txt` 文件，并写入 "hello Linux"，然后再追加 "hello world”
```
touch try.txt
echo "hello Linux" > try.txt
echo "hello world" >> try.txt
```
- 查看 `try.txt` 尾部 5 行的内容，可以通过图形化界面复制一部分以凸显指令效果
```
tail -5 try.txt
```

### 12. Vim 编辑器

Vim 有三种主要模式：命令模式、输入模式和底线命令模式。
- **命令模式**：使用键盘的指令去控制，不能自由的进行文本编辑。
- **输入模式**：也就是编辑模式，可以自由编辑。
- **底线命令模式**：通常用于文件的保存和退出。

在 Vim 的命令模式（也称为普通模式）下，有许多实用的快捷键，具体如下：

#### 移动光标
| 快捷键 | 作用 |
| ---- | ---- |
| `h` | 向左移动一个字符 |
| `j` | 向下移动一行 |
| `k` | 向上移动一行 |
| `l` | 向右移动一个字符 |
| `w` | 移动到下一个单词的开头 |
| `b` | 移动到上一个单词的开头 |
| `e` | 移动到下一个单词的结尾 |
| `0` | 移动到当前行的行首 |
| `$` | 移动到当前行的行尾 |
| `gg` | 移动到文件的第一行 |
| `G` | 移动到文件的最后一行 |
| `nG` 或 `:n` | 移动到第 `n` 行（例如 `5G` 或 `:5` 移动到第 5 行） |
| `Ctrl + f` | 向前翻一页 |
| `Ctrl + b` | 向后翻一页 |

#### 文本编辑
| 快捷键 | 作用 |
| ---- | ---- |
| `i` | 在光标前进入插入模式 |
| `I` | 在当前行的行首进入插入模式 |
| `a` | 在光标后进入插入模式 |
| `A` | 在当前行的行尾进入插入模式 |
| `o` | 在当前行的下一行插入新行并进入插入模式 |
| `O` | 在当前行的上一行插入新行并进入插入模式 |
| `r` | 替换当前光标所在的字符 |
| `R` | 进入替换模式，持续替换后续字符 |
| `cc` 或 `S` | 删除当前行并进入插入模式 |
| `cw` | 删除从光标位置到单词结尾的内容，并进入插入模式 |
| `C` | 删除从光标位置到行尾的内容，并进入插入模式 |

#### 复制、粘贴和删除
| 快捷键 | 作用 |
| ---- | ---- |
| `yy` 或 `Y` | 复制当前行 |
| `nyy` 或 `nY` | 复制从当前行开始的 `n` 行（例如 `3yy` 复制 3 行） |
| `p` | 在光标后粘贴复制或删除的内容 |
| `P` | 在光标前粘贴复制或删除的内容 |
| `dd` | 删除当前行（删除的内容可用于粘贴） |
| `ndd` | 删除从当前行开始的 `n` 行（例如 `3dd` 删除 3 行） |
| `x` | 删除当前光标所在的字符 |
| `nx` | 删除从当前光标位置开始的 `n` 个字符 |
| `dw` | 删除从光标位置到单词结尾的内容 |
| `D` | 删除从光标位置到行尾的内容 |

#### 搜索和替换
| 快捷键 | 作用 |
| ---- | ---- |
| `/pattern` | 从当前位置向下搜索 `pattern` 匹配的内容 |
| `?pattern` | 从当前位置向上搜索 `pattern` 匹配的内容 |
| `n` | 重复上一次搜索，方向相同 |
| `N` | 重复上一次搜索，方向相反 |
| `:%s/old/new/g` | 将文件中所有的 `old` 替换为 `new` |
| `:%s/old/new/gc` | 将文件中所有的 `old` 替换为 `new`，每次替换前询问 |

#### 文件操作
| 快捷键 | 作用 |
| ---- | ---- |
| `:w` | 保存文件 |
| `:wq` 或 `ZZ` | 保存文件并退出 Vim |
| `:q` | 退出 Vim（若文件未修改） |
| `:q!` | 强制退出 Vim，不保存修改 |
| `:e filename` | 打开另一个文件 |
| `:bn` | 切换到下一个缓冲区 |
| `:bp` | 切换到上一个缓冲区 | 